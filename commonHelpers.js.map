{"version":3,"file":"commonHelpers.js","sources":["../src/img/yellow-shopping-basket@1x.png","../src/img/yellow-shopping-basket@2x.png","../src/js/empty-basket.js","../src/js/cart-quantity.js","../src/js/cart-delete-all.js","../src/js/cartTotalPrice.js","../src/js/basket-markup.js","../src/js/cart-remove-item.js","../src/js/cart-product-quantity.js","../src/cart.js"],"sourcesContent":["export default \"__VITE_ASSET__b19d7636__\"","export default \"__VITE_ASSET__555eb6bd__\"","import basket from '../img/yellow-shopping-basket@1x.png';\nimport basket2x from '../img/yellow-shopping-basket@2x.png';\n\nexport const emptyCartMarkup = `\n    <picture class=\"empty-basket\">\n        <source srcset=\"${basket} 1x, ${basket2x} 2x\" />\n        <img src=\"${basket}\" alt=\"basket\" class=\"basket-empty-img\"/>\n    </picture>\n    <h3 class=\"empty-basket-title\">\n        Your basket is\n        <span class=\"empty-basket-span\">empty...</span>\n    </h3>\n    <p class=\"empty-basket-text\">\n        Go to the main page to select your favorite products and add them to the cart.\n    </p>\n`;","export function changeQuantity() {\n    const quantity = document.querySelector('.js-cart-info');\n    const quantityHeader = document.querySelector('.js-header-span')\n    const USER_CART = JSON.parse(localStorage.getItem('cart')) || [];\n\n    if (!!quantity) {\n        quantity.textContent = USER_CART.length;\n    }\n    if (!!quantityHeader) {\n        quantityHeader.textContent = USER_CART.length;\n    }\n};","import { renderCart } from '../cart';\nimport {changeQuantity} from './cart-quantity'\n\nexport function cartDeleteAll() {\n    const deleteAllBtn = document.querySelector('.cart-delete-all-btn');\n\n    if (deleteAllBtn) {\n        const callBack = () => {\n            localStorage.setItem('cart', '[]');\n            changeQuantity();\n            renderCart([]);\n\n            deleteAllBtn.removeEventListener('click', callBack);\n        };\n\n        deleteAllBtn.addEventListener('click', callBack);\n    };\n};","export function cartTotalPrice(data) {\n    let total = 0;\n    for (const item of data) {\n        total += item.price * item.quantity;\n    }\n    return total.toFixed(2);\n};","import { cartTotalPrice } from './cartTotalPrice';\nimport icons from '../img/sptite.svg';\n\nexport function basketMarkup(USER_CART) {\n    const cart = `\n    <div class=\"basket-full-container\">\n        <div class=\"cart-with-items-container\">\n        \n            <div class=\"cart-delete-all\">\n                <p class=\"cart-delete-all-text\">Delete all</p>\n                <button type=\"button\" class=\"cart-delete-all-btn\">\n                    <svg class=\"delete-all-icon-svg\">\n                        <use href=\"${icons}#icon-close\"></use>\n                    </svg>\n                </button>\n            </div>\n\n            <ul class=\"cart-with-items-list\">\n            ${USER_CART.map(\n                ({ category, img, name, price, size, _id, quantity }) => `\n                <li class=\"cart-product-list\" data-cart-product-id=${_id}>\n                    <div class=\"cart-product-img-container\">\n                        <img class=\"cart-product-img\" src=${img} alt=${name}/>\n                    </div>\n                    <div class=\"cart-product-list-description\">\n                    <div class=\"cart-product-list-info\">\n                        <p class=\"cart-product-name\">${name}</p>\n                        <div class=\"cart-product-features\">\n                            <p class=\"cart-product-category\">Category: <span class=\"cart-product-category-span\">${category.replace(/_/g, ' ')}</span></p>\n                            <p class=\"cart-product-size\">Size: <span class=\"cart-product-size-span\">${size}</span></p>\n                        </div>\n                        <p class=\"cart-product-info-price\">$${price}</p>\n                    </div>\n                    <div class=\"cart-product-list-remove\">\n                        <button class=\"cart-product-remove-btn\" type=\"button\" data-remove=${_id}>\n                        <svg class=\"cart-product-remove-svg\" data-remove=${_id}>\n                            <use href=\"${icons}#icon-close\" data-remove=${_id}></use>\n                        </svg>\n                        </button>\n                        <div class=\"cart-product-count-container\">\n                            <button class=\"cart-product-count-decrease\" type=\"button\" data-decrease=${_id}>\n                                <svg class=\"cart-product-count-decrease-svg\" data-decrease=${_id} hidden>\n                                    <use href=\"${icons}#icon-\" data-decrease=${_id}></use>\n                                </svg>\n                            </button>\n                            <p class=\"cart-product-count-text\" data-count=\"${_id}\">${quantity}</p>\n                            <button class=\"cart-product-count-increase\" type=\"button\" data-increase=${_id}>\n                                <svg class=\"cart-product-count-increase-svg\" data-increase=${_id} hidden>\n                                    <use href=\"${icons}#icon-\" data-increase=${_id}></use>\n                                </svg>\n                            </button>\n                        </div>\n                    </div>\n                </div>\n                </li>\n                `\n            ).join('')}\n            </ul>\n\n        </div>\n        <div class=\"cart-order-container\">\n                <h2 class=\"cart-order-title\">Your Order</h2>\n                <div class=\"cart-order-total\">\n                    <p class=\"cart-order-text-total\">Total</p>\n                    <div class=\"cart-order-sum-container\">\n                        <p class=\"cart-order-sum\">\n                            <span class=\"cart-order-text-sum\">\n                            Sum:\n                            </span>\n                            $${cartTotalPrice(USER_CART)}\n                            </p>\n                    </div>\n                </div>\n                <form class=\"cart-form-order-input\">\n                    <input type=\"email\" name=\"user-email\" id=\"user-email\" class=\"cart-form-order-mail-input\" placeholder=\"Enter your email\" pattern=\"[_\\-a-zA-Z0-9\\.\\+]+@[a-zA-Z0-9](\\.?[\\-a-zA-Z0-9]*[a-zA-Z0-9])*\" required/>\n                    <button type=\"submit\" class=\"cart-form-btn\">Checkout</button>\n                </form>\n            </div>\n    </div>\n    `;\n    return cart\n};","import { renderCart } from '../cart.js';\n\nexport function cartRemoveItem(data) {\n    const cart = document.querySelector('.cart-with-items-list');\n    \n    if (cart) {\n        cart.addEventListener('click', e => {\n            const itemId = e.target.dataset.remove;\n\n            if (itemId) {\n                const updatedCart = data.filter(item => item._id !== itemId);\n\n                localStorage.setItem('cart', JSON.stringify(updatedCart));\n                renderCart(updatedCart);\n            }\n        });\n    }\n}\n","// cart-product-quantity.js\nimport { renderCart } from '../cart.js';\n\nexport function cartProductQuantity(data) {\n    updateQuantityEventListeners(data);\n}\n\nfunction updateQuantity(itemId, amount, data, textCounter) {\n    \n    const updatedData = data.map(item => {\n        if (item._id === itemId) {\n            const newQuantity = Math.max(0, item.quantity + amount);\n            textCounter.textContent = newQuantity;\n\n            if (newQuantity === 0) {\n                return null;\n            }\n\n            return { ...item, quantity: newQuantity };\n        }\n        return item;\n    });\n\n    const filteredData = updatedData.filter(item => item !== null);\n\n\n    localStorage.setItem('cart', JSON.stringify(filteredData));\n\n    renderCart(filteredData);\n}\n\nfunction updateQuantityEventListeners(data) {\n    data.forEach(({ _id }) => {\n        const decreaseBtn = document.querySelector(`.cart-product-count-decrease[data-decrease=\"${_id}\"]`);\n        const increaseBtn = document.querySelector(`.cart-product-count-increase[data-increase=\"${_id}\"]`);\n        const textCounter = document.querySelector(`.cart-product-count-text[data-count=\"${_id}\"]`);\n\n        if (decreaseBtn && increaseBtn) {\n            decreaseBtn.addEventListener('click', () => updateQuantity(_id, -1, data, textCounter));\n            increaseBtn.addEventListener('click', () => updateQuantity(_id, 1, data, textCounter));\n        }\n    });\n}\n","import { emptyCartMarkup } from './js/empty-basket';\nimport { cartDeleteAll } from './js/cart-delete-all';\nimport { basketMarkup } from './js/basket-markup';\nimport { changeQuantity } from './js/cart-quantity';\nimport { cartRemoveItem } from './js/cart-remove-item';\nimport { cartProductQuantity } from './js/cart-product-quantity';\n\nconst cart = document.querySelector('.js-basket');\n\n// const data = [\n//     {\n//       \"_id\": \"640c2dd963a319ea671e383b\",\n//       \"name\": \"Ackee\",\n//       \"img\": \"https://ftp.goit.study/img/so-yummy/ingredients/640c2dd963a319ea671e383b.png\",\n//       \"category\": \"Fresh_Produce\",\n//       \"price\": 8.99,\n//       \"size\": \"16 oz\",\n//       \"is10PercentOff\": false,\n//         \"popularity\": 0,\n//       \"quantity\": 1\n//     },\n//     {\n//       \"_id\": \"640c2dd963a319ea671e3864\",\n//       \"name\": \"Black Beans\",\n//       \"img\": \"https://ftp.goit.study/img/so-yummy/ingredients/640c2dd963a319ea671e3864.png\",\n//       \"category\": \"Pantry_Items\",\n//       \"price\": 1.99,\n//       \"size\": \"16oz\",\n//       \"is10PercentOff\": false,\n//       \"popularity\": 0,\n//       \"quantity\": 1\n//     },\n//     {\n//       \"_id\": \"640c2dd963a319ea671e37ad\",\n//       \"name\": \"Black Olives\",\n//       \"img\": \"https://ftp.goit.study/img/so-yummy/ingredients/640c2dd963a319ea671e37ad.png\",\n//       \"category\": \"Fresh_Produce\",\n//       \"price\": 3.99,\n//       \"size\": \"1 jar (16 oz)\",\n//       \"is10PercentOff\": false,\n//       \"popularity\": 0,\n//       \"quantity\": 1\n//     },\n//     {\n//       \"_id\": \"640c2dd963a319ea671e37a\",\n//       \"name\": \"Black Olives\",\n//       \"img\": \"https://ftp.goit.study/img/so-yummy/ingredients/640c2dd963a319ea671e37ad.png\",\n//       \"category\": \"Fresh_Produce\",\n//       \"price\": 3.99,\n//       \"size\": \"1 jar (16 oz)\",\n//       \"is10PercentOff\": false,\n//       \"popularity\": 0,\n//       \"quantity\": 1\n//     }\n// ]\n\n// localStorage.setItem('cart',JSON.stringify(data))\n\nconst USER_CART = JSON.parse(localStorage.getItem('cart')) || [];\n// const USER_CART = [];\n\nexport function renderCart(data) {\n  changeQuantity();\n  if (data.length === 0) {\n    cart.innerHTML = emptyCartMarkup;\n  } else {\n    cart.innerHTML = basketMarkup(data);\n  }\n  cartDeleteAll();\n  cartRemoveItem(data);\n  cartProductQuantity(data);\n}\n\nrenderCart(USER_CART);\n"],"names":["basket","basket2x","emptyCartMarkup","changeQuantity","quantity","quantityHeader","USER_CART","cartDeleteAll","deleteAllBtn","callBack","renderCart","cartTotalPrice","data","total","item","basketMarkup","icons","category","img","name","price","size","_id","cartRemoveItem","cart","e","itemId","updatedCart","cartProductQuantity","updateQuantityEventListeners","updateQuantity","amount","textCounter","filteredData","newQuantity","decreaseBtn","increaseBtn"],"mappings":"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"}